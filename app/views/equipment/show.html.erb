<% content_for :header, "√âquipement" %>

<div class="section">
  <!-- Breadcrumb Navigation -->
  <% site_icon = capture { render 'shared/hierarchy_icons', type: 'site', size: 16 } %>
  <% building_icon = capture { render 'shared/hierarchy_icons', type: 'building', size: 16 } %>
  <% level_icon = capture { render 'shared/hierarchy_icons', type: 'level', size: 16 } %>
  <% space_icon = capture { render 'shared/hierarchy_icons', type: 'space', size: 16 } %>
  <% equipment_icon = capture { render 'shared/hierarchy_icons', type: 'equipment', size: 16 } %>
  <%= render 'shared/breadcrumb', path: [
    { name: 'Sites', url: sites_path, icon: site_icon },
    { name: 'Tour Montparnasse', url: site_path(1), icon: site_icon },
    { name: 'B√¢t. A', url: building_path(1), icon: building_icon },
    { name: 'RDC', url: level_path(1), icon: level_icon },
    { name: 'Bureau 101', url: space_path(1), icon: space_icon },
    { name: 'Climatiseur Daikin AC-500', url: nil, icon: equipment_icon }
  ] %>

  <!-- Header Section -->
  <div style="margin-bottom: var(--space-xl); display: flex; justify-content: space-between; align-items: center;">
    <div style="display: flex; align-items: center; gap: var(--space-md);">
      <%= render 'shared/hierarchy_icons', type: 'equipment', size: 32, color: 'var(--coral-primary)' %>
      <div>
        <h2 class="typo-h2" style="margin-bottom: var(--space-xs);">Climatiseur Daikin AC-500</h2>
        <p class="typo-body-small" style="color: var(--medium-gray);">Bureau 101 - RDC - B√¢timent A - Tour Montparnasse</p>
      </div>
    </div>
    <div style="display: flex; gap: var(--space-md);">
      <%= link_to edit_equipment_path(1), class: "typo-btn-small typo-btn-small-primary" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
        √âditer
      <% end %>
      <%= button_to equipment_path(1), method: :delete, class: "typo-btn-small", style: "background-color: #dc2626; color: white; border: none;", form: { data: { turbo_confirm: "√ätes-vous s√ªr de vouloir supprimer cet √©quipement ? Cette action est irr√©versible." } } do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
        </svg>
        Supprimer
      <% end %>
      <%= link_to space_path(1), class: "typo-btn-cancel" do %>
        ‚Üê Retour √† l'Espace
      <% end %>
    </div>
  </div>

  <!-- Equipment Status Cards -->
  <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: var(--space-md); margin-bottom: var(--space-xl);">
    <div style="background: linear-gradient(135deg, rgba(34, 197, 94, 0.05) 0%, rgba(34, 197, 94, 0.1) 100%); padding: var(--space-md); border-radius: var(--space-sm); border-left: 4px solid #22c55e; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);">
      <p style="color: var(--medium-gray); font-size: 0.7rem; margin-bottom: 6px; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Statut</p>
      <p style="color: #22c55e; font-size: 1.4rem; font-weight: 700; margin: 0; line-height: 1.2;">Actif</p>
    </div>
    <div style="background: linear-gradient(135deg, rgba(245, 158, 11, 0.05) 0%, rgba(245, 158, 11, 0.1) 100%); padding: var(--space-md); border-radius: var(--space-sm); border-left: 4px solid #f59e0b; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);">
      <p style="color: var(--medium-gray); font-size: 0.7rem; margin-bottom: 6px; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Criticit√©</p>
      <p style="color: #f59e0b; font-size: 1.4rem; font-weight: 700; margin: 0; line-height: 1.2;">√âlev√©</p>
    </div>
    <div style="background: linear-gradient(135deg, rgba(59, 130, 246, 0.05) 0%, rgba(59, 130, 246, 0.1) 100%); padding: var(--space-md); border-radius: var(--space-sm); border-left: 4px solid #3b82f6; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);">
      <p style="color: var(--medium-gray); font-size: 0.7rem; margin-bottom: 6px; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Puissance</p>
      <p style="color: #3b82f6; font-size: 1.4rem; font-weight: 700; margin: 0; line-height: 1.2;">3.5 kW</p>
    </div>
    <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(139, 92, 246, 0.1) 100%); padding: var(--space-md); border-radius: var(--space-sm); border-left: 4px solid #8b5cf6; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);">
      <p style="color: var(--medium-gray); font-size: 0.7rem; margin-bottom: 6px; text-transform: uppercase; font-weight: 600; letter-spacing: 0.5px;">Proch. Maintenance</p>
      <p style="color: #8b5cf6; font-size: 1.4rem; font-weight: 700; margin: 0; line-height: 1.2;">15/03/2025</p>
    </div>
  </div>

  <div style="background-color: var(--white); border-radius: var(--space-md);">
    
    <!-- Basic Information Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Informations de Base
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Nom de l'√âquipement</p>
          <p class="typo-body-small typo-bold">Climatiseur Daikin AC-500</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Type d'√âquipement</p>
          <p class="typo-body-small typo-bold">Climatiseur (CVC - HVAC)</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Fabricant / Marque</p>
          <p class="typo-body-small typo-bold">Daikin</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Mod√®le</p>
          <p class="typo-body-small typo-bold">AC-500</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Num√©ro de S√©rie</p>
          <p class="typo-body-small typo-bold">SN123456789</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">R√©f√©rence BDD</p>
          <p class="typo-body-small typo-bold">EQ-2025-001</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">R√©f√©rence OmniClass</p>
          <p class="typo-body-small typo-bold">23-35 17 13 (Air Conditioning Equipment)</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Sous-domaine Achat</p>
          <p class="typo-body-small typo-bold">CVC - Climatisation</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Emplacement</p>
          <p class="typo-body-small typo-bold">Bureau 101, RDC, B√¢timent A</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Type d'√ânergie</p>
          <p class="typo-body-small typo-bold">√âlectricit√©</p>
        </div>
      </div>
    </div>

    <!-- Alerts Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Alertes
      </h4>
      
      <div style="display: grid; gap: var(--space-md);">
        <div style="background-color: #fff3cd; padding: var(--space-md); border-radius: var(--space-sm); border-left: 4px solid #f59e0b;">
          <div style="display: flex; justify-content: space-between; align-items: start;">
            <div>
              <p class="typo-body-small typo-bold" style="color: #856404; margin-bottom: var(--space-xs);">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="display: inline-block; vertical-align: text-bottom; margin-right: 4px;">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
                </svg>
                Maintenance Pr√©ventive √† Venir
              </p>
              <p class="typo-body-small" style="color: #856404;">√âch√©ance : 15/03/2025</p>
            </div>
            <span style="padding: 4px 10px; background-color: #f59e0b; color: white; border-radius: 4px; font-size: 0.75rem; font-weight: 600;">√Ä venir</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Technical Specifications Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Caract√©ristiques Techniques
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Puissance Nominale</p>
          <p class="typo-body-small typo-bold">3.5 kW</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Tension Nominale</p>
          <p class="typo-body-small typo-bold">230 V</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Intensit√©</p>
          <p class="typo-body-small typo-bold">16 A</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Fr√©quence</p>
          <p class="typo-body-small typo-bold">50 Hz</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Poids</p>
          <p class="typo-body-small typo-bold">45 kg</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Dimensions</p>
          <p class="typo-body-small typo-bold">80 x 60 x 120 cm</p>
        </div>
      </div>
    </div>

    <!-- Installation & Warranty Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Installation et Garantie
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Nom de l'Installateur Initial</p>
          <p class="typo-body-small typo-bold">SARL TechnoClim</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Date de Mise en Service</p>
          <p class="typo-body-small typo-bold">01/03/2024</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Dur√©e de Garantie</p>
          <p class="typo-body-small typo-bold">3 ans</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Date Fin de Garantie</p>
          <p class="typo-body-small typo-bold">01/03/2027</p>
        </div>
      </div>
    </div>

    <!-- Contracts & Maintenance Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Contrats et Maintenance
      </h4>
      
      <div style="display: grid; gap: var(--space-lg);">
        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Contrat Associ√©</p>
          <%= link_to "Contrat de Maintenance CVC 2024-2027", contract_path(1), class: "typo-body-small typo-bold", style: "color: var(--coral-primary); text-decoration: none;" %>
          <p class="typo-body-small" style="color: var(--medium-gray); margin-top: 4px;">N¬∞ CONT-2024-CVC-001 | Famille: Maintenance CVC</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Fournisseur de Maintenance (Mainteneur)</p>
          <%= link_to "ClimaTech Services", organization_path(1), class: "typo-body-small typo-bold", style: "color: var(--coral-primary); text-decoration: none;" %>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Date Prochaine Maintenance</p>
          <p class="typo-body-small typo-bold">15/03/2025</p>
        </div>
      </div>
    </div>

    <!-- Contacts Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Contacts
      </h4>
      
      <div style="display: grid; gap: var(--space-md);">
        <div style="padding: var(--space-md); background-color: #f8f9fa; border-radius: var(--space-sm); border-left: 4px solid var(--coral-primary);">
          <p class="typo-body-small typo-bold" style="margin-bottom: var(--space-xs);">Jean Dupont - Responsable Technique</p>
          <p class="typo-body-small" style="color: var(--medium-gray);">ClimaTech Services</p>
          <p class="typo-body-small" style="color: var(--medium-gray); margin-top: 4px;">
            üìß j.dupont@climatech.fr | üì± +33 6 12 34 56 78
          </p>
        </div>
        
        <div style="padding: var(--space-md); background-color: #f8f9fa; border-radius: var(--space-sm); border-left: 4px solid var(--coral-primary);">
          <p class="typo-body-small typo-bold" style="margin-bottom: var(--space-xs);">Marie Martin - Technicien SAV</p>
          <p class="typo-body-small" style="color: var(--medium-gray);">Daikin France</p>
          <p class="typo-body-small" style="color: var(--medium-gray); margin-top: 4px;">
            üìß m.martin@daikin.fr | üì± +33 6 98 76 54 32
          </p>
        </div>
      </div>
    </div>

    <!-- Dynamic Characteristics Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Caract√©ristiques Sp√©cifiques (BDD √âquipement)
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Capacit√© de Refroidissement</p>
          <p class="typo-body-small typo-bold">3500 W</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Classe √ânerg√©tique</p>
          <p class="typo-body-small typo-bold">A++</p>
        </div>
      </div>
    </div>

    <!-- Supplier Information Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Informations Fournisseur
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Fournisseur / Distributeur</p>
          <p class="typo-body-small typo-bold">SARL TechnoClim</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Prix d'Achat</p>
          <p class="typo-body-small typo-bold">2 500,00 ‚Ç¨</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Num√©ro de Commande</p>
          <p class="typo-body-small typo-bold">CMD-2024-123</p>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Num√©ro de Facture</p>
          <p class="typo-body-small typo-bold">FAC-2024-456</p>
        </div>
      </div>
    </div>

    <!-- Additional Information Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Informations Compl√©mentaires
      </h4>
      
      <div style="display: grid; gap: var(--space-lg);">
        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Statut</p>
          <span style="display: inline-block; padding: 6px 14px; background-color: #d4edda; color: #155724; border-radius: 6px; font-size: 0.875rem; font-weight: 600;">
            Actif
          </span>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Niveau de Criticit√©</p>
          <span style="display: inline-block; padding: 6px 14px; background-color: #fff3cd; color: #856404; border-radius: 6px; font-size: 0.875rem; font-weight: 600;">
            √âlev√©
          </span>
        </div>

        <div>
          <p class="typo-body-small" style="color: var(--medium-gray); font-size: 0.75rem; text-transform: uppercase; margin-bottom: var(--space-xs);">Notes / Commentaires</p>
          <p class="typo-body-small" style="background-color: #f8f9fa; padding: var(--space-md); border-radius: var(--space-sm); border-left: 4px solid var(--pink-pale);">
            √âquipement essentiel pour le confort thermique du bureau. Maintenance pr√©ventive programm√©e tous les 6 mois.
          </p>
        </div>
      </div>
    </div>

    <!-- Action Buttons -->
    <div style="display: flex; gap: var(--space-md); justify-content: flex-end; padding-top: var(--space-lg); border-top: 1px solid var(--pink-pale);">
      <%= link_to space_path(1), class: "typo-btn-cancel", style: "display: inline-flex; align-items: center; gap: var(--space-sm);" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
        </svg>
        Retour √† l'Espace
      <% end %>
      <%= link_to edit_equipment_path(1), class: "typo-btn-primary", style: "cursor: pointer; display: inline-flex; align-items: center; gap: var(--space-sm);" do %>
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
        </svg>
        √âditer l'√âquipement
      <% end %>
    </div>
  </div>
</div>
