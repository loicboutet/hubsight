<% content_for :header, @site.name %>

<div class="section">
  <div style="margin-bottom: var(--space-xl); display: flex; justify-content: space-between; align-items: center;">
    <div>
      <h2 class="typo-h2" style="margin-bottom: var(--space-sm);"><%= @site.name %></h2>
      <p class="typo-body-small"><%= @site.address %>, <%= @site.city %> <%= @site.postal_code %></p>
    </div>
    <div style="display: flex; gap: var(--space-md);">
      <%= link_to edit_site_path(@site.id), class: "typo-btn-small typo-btn-small-primary" do %>
        <svg class="w-4 h-4 inline-block mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
        </svg>
        Éditer
      <% end %>
      <%= link_to sites_path, class: "typo-btn-cancel" do %>
        Retour à la liste
      <% end %>
    </div>
  </div>

  <div style="background-color: var(--white); border-radius: var(--space-md); ">
    <!-- Site Header Card -->
    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: var(--space-xl); border-radius: var(--space-md); color: white; margin-bottom: var(--space-xl);">
      <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-lg);">
        <div>
          <p style="color: rgba(255,255,255,0.8); font-size: 0.75rem; margin-bottom: var(--space-xs);">CODE SITE</p>
          <p class="typo-h4" style="color: white;"><%= @site.code %></p>
        </div>
        <div>
          <p style="color: rgba(255,255,255,0.8); font-size: 0.75rem; margin-bottom: var(--space-xs);">TYPE</p>
          <p class="typo-h4" style="color: white;"><%= @site.site_type.capitalize %></p>
        </div>
        <div>
          <p style="color: rgba(255,255,255,0.8); font-size: 0.75rem; margin-bottom: var(--space-xs);">SURFACE TOTALE</p>
          <p class="typo-h4" style="color: white;"><%= number_with_delimiter(@site.total_area, delimiter: ' ') %> m²</p>
        </div>
        <div>
          <p style="color: rgba(255,255,255,0.8); font-size: 0.75rem; margin-bottom: var(--space-xs);">STATUT</p>
          <p class="typo-h4" style="color: white;"><%= @site.status.capitalize %></p>
        </div>
      </div>
    </div>

    <!-- Information Details -->
    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-xl); margin-bottom: var(--space-xl);">
      <!-- Address Section -->
      <div>
        <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
          Adresse
        </h4>
        <div style="display: grid; gap: var(--space-md);">
          <div>
            <p class="typo-body-small" style="color: #999; font-size: 0.75rem;">ADRESSE</p>
            <p class="typo-body-small typo-bold"><%= @site.address %></p>
          </div>
          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-md);">
            <div>
              <p class="typo-body-small" style="color: #999; font-size: 0.75rem;">VILLE</p>
              <p class="typo-body-small typo-bold"><%= @site.city %></p>
            </div>
            <div>
              <p class="typo-body-small" style="color: #999; font-size: 0.75rem;">CODE POSTAL</p>
              <p class="typo-body-small typo-bold"><%= @site.postal_code %></p>
            </div>
          </div>
          <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-md);">
            <div>
              <p class="typo-body-small" style="color: #999; font-size: 0.75rem;">RÉGION</p>
              <p class="typo-body-small typo-bold"><%= @site.region.capitalize %></p>
            </div>
            <div>
              <p class="typo-body-small" style="color: #999; font-size: 0.75rem;">PAYS</p>
              <p class="typo-body-small typo-bold"><%= @site.country %></p>
            </div>
          </div>
        </div>
      </div>

      <!-- Contact Section -->
      <div>
        <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
          Gestion et Contact
        </h4>
        <div style="display: grid; gap: var(--space-md);">
          <div>
            <p class="typo-body-small" style="color: #999; font-size: 0.75rem;">RESPONSABLE DE SITE</p>
            <p class="typo-body-small typo-bold"><%= @site.site_manager %></p>
          </div>
          <div>
            <p class="typo-body-small" style="color: #999; font-size: 0.75rem;">EMAIL</p>
            <p class="typo-body-small typo-bold"><%= @site.contact_email %></p>
          </div>
          <div>
            <p class="typo-body-small" style="color: #999; font-size: 0.75rem;">TÉLÉPHONE</p>
            <p class="typo-body-small typo-bold"><%= @site.contact_phone %></p>
          </div>
        </div>
      </div>
    </div>

    <!-- Description Section -->
    <% if @site.description.present? %>
      <div style="margin-bottom: var(--space-xl);">
        <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
          Description
        </h4>
        <p class="typo-body-small"><%= @site.description %></p>
      </div>
    <% end %>

    <!-- Quick Stats -->
    <div style="background-color: #f8f9fa; border-radius: var(--space-md); padding: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg);">Statistiques Rapides</h4>
      <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-lg);">
        <div style="text-align: center; padding: var(--space-lg); background-color: white; border-radius: var(--space-sm);">
          <p class="typo-body-small" style="color: #999; font-size: 0.75rem; margin-bottom: var(--space-sm);">BÂTIMENTS</p>
          <p class="typo-h2" style="color: var(--coral-primary);">2</p>
        </div>
        <div style="text-align: center; padding: var(--space-lg); background-color: white; border-radius: var(--space-sm);">
          <p class="typo-body-small" style="color: #999; font-size: 0.75rem; margin-bottom: var(--space-sm);">ÉQUIPEMENTS</p>
          <p class="typo-h2" style="color: var(--coral-primary);">324</p>
        </div>
        <div style="text-align: center; padding: var(--space-lg); background-color: white; border-radius: var(--space-sm);">
          <p class="typo-body-small" style="color: #999; font-size: 0.75rem; margin-bottom: var(--space-sm);">CONTRATS</p>
          <p class="typo-h2" style="color: var(--coral-primary);">18</p>
        </div>
        <div style="text-align: center; padding: var(--space-lg); background-color: white; border-radius: var(--space-sm);">
          <p class="typo-body-small" style="color: #999; font-size: 0.75rem; margin-bottom: var(--space-sm);">NIVEAUX</p>
          <p class="typo-h2" style="color: var(--coral-primary);">12</p>
        </div>
      </div>
    </div>
  </div>
</div>
