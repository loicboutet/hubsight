<% content_for :header, "Routes de l'Application" %>

<div class="section">
  <div style="margin-bottom: var(--space-xl);">
    <h2 class="typo-h2" style="margin-bottom: var(--space-sm);">HubSight - Toutes les Routes</h2>
    <p class="typo-body-small">Routes organisées par rôle utilisateur selon specification.md</p>
  </div>

  <!-- 3-Column Grid Layout -->
  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-lg); margin-bottom: var(--space-2xl);">
    <% @routes_by_role.each do |role_name, routes| %>
      <div style="background-color: var(--white); border-radius: var(--space-md); overflow: hidden; border: 1px solid var(--light-gray);">
        <!-- Role Header -->
        <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: var(--space-lg); color: white;">
          <h3 class="typo-h4" style="color: white; margin: 0;"><%= role_name %></h3>
        </div>
        
        <!-- Routes List -->
        <div style="padding: var(--space-md);">
          <% routes.each do |route| %>
            <div style="margin-bottom: var(--space-md); padding-bottom: var(--space-md); border-bottom: 1px solid var(--pink-pale);">
              <%= link_to route[:path], style: "text-decoration: none;" do %>
                <div style="margin-bottom: var(--space-xs);">
                  <span class="typo-body-small typo-bold" style="color: var(--coral-primary);"><%= route[:name] %></span>
                </div>
                <p class="typo-body-small" style="color: #666; font-size: 0.8rem; line-height: 1.3;"><%= route[:description] %></p>
                <code style="font-size: 0.7rem; color: #999; display: block; margin-top: var(--space-xs);"><%= route[:path] %></code>
              <% end %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>

  <!-- Info Section -->
  <div style="background-color: #f8f9fa; border-radius: var(--space-md); padding: var(--space-xl); border: 1px solid var(--light-gray);">
    <h3 class="typo-h4" style="margin-bottom: var(--space-md);">À propos des Rôles</h3>
    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: var(--space-lg);">
      <div>
        <p class="typo-body-small typo-bold" style="margin-bottom: var(--space-sm);">👤 Admin</p>
        <p class="typo-body-small" style="font-size: 0.85rem; line-height: 1.4;">Administrateur système qui gère les comptes Gestionnaires de Portefeuille et les références de prix</p>
      </div>
      <div>
        <p class="typo-body-small typo-bold" style="margin-bottom: var(--space-sm);">👑 Gestionnaire de Portefeuille</p>
        <p class="typo-body-small" style="font-size: 0.85rem; line-height: 1.4;">Utilisateur principal qui gère l'ensemble du portefeuille immobilier, les contrats et les sites</p>
      </div>
      <div>
        <p class="typo-body-small typo-bold" style="margin-bottom: var(--space-sm);">🏢 Responsable de Site</p>
        <p class="typo-body-small" style="font-size: 0.85rem; line-height: 1.4;">Utilisateur avec accès limité aux sites assignés, peut consulter et uploader des contrats</p>
      </div>
    </div>
    <div style="margin-top: var(--space-lg); text-align: center;">
      <p class="typo-body-small" style="color: #666;">
        <strong>BRIQUE 2</strong> inclut : Alertes, Analyse d'Économies, et Références de Prix
      </p>
    </div>
  </div>
</div>

<!-- Responsive CSS for mobile -->
<style>
  @media (max-width: 1024px) {
    div[style*="grid-template-columns: repeat(3, 1fr)"] {
      grid-template-columns: 1fr !important;
    }
  }
</style>
