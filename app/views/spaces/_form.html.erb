<%= form_with(model: [@level, space], local: true) do |f| %>
  <div style="background-color: var(--white); border-radius: var(--space-md); padding: var(--space-xl);">
    
    <!-- Basic Information Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Informations de Base
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Nom/Numéro de l'Espace <span style="color: var(--coral-primary);">*</span>
          </label>
          <%= f.text_field :name, placeholder: "Ex: Bureau 101, Salle de réunion A...", required: true, style: "width: 100%;" %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Type d'Espace <span style="color: var(--coral-primary);">*</span>
          </label>
          <%= f.select :space_type,
            [
              ['Bureau', 'office'],
              ['Salle de réunion', 'meeting_room'],
              ['Local technique', 'technical_room'],
              ['Sanitaires', 'restroom'],
              ['Circulation', 'circulation'],
              ['Espace de stockage', 'storage'],
              ['Cafétéria / Espace de vie', 'cafeteria'],
              ['Accueil / Réception', 'reception'],
              ['Salle de formation', 'training_room'],
              ['Open Space', 'open_space'],
              ['Archive', 'archive'],
              ['Autre', 'other']
            ],
            { include_blank: 'Sélectionner...' },
            { required: true, style: "width: 100%;" } %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Surface (m²) <span style="color: var(--coral-primary);">*</span>
          </label>
          <%= f.number_field :area, placeholder: "Ex: 25", step: 0.01, required: true, style: "width: 100%;" %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Hauteur sous Plafond (m)
          </label>
          <%= f.number_field :ceiling_height, placeholder: "Ex: 2.8", step: 0.01, style: "width: 100%;" %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Capacité d'Accueil (personnes)
          </label>
          <%= f.number_field :capacity, placeholder: "Ex: 2", min: 0, style: "width: 100%;" %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Usage Principal
          </label>
          <%= f.text_field :primary_use, placeholder: "Ex: Bureaux administratifs", style: "width: 100%;" %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Usage Secondaire
          </label>
          <%= f.text_field :secondary_use, placeholder: "Ex: Stockage temporaire", style: "width: 100%;" %>
        </div>
      </div>
    </div>

    <!-- Characteristics Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Caractéristiques
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Type de Revêtement de Sol
          </label>
          <%= f.select :floor_covering,
            [
              ['Moquette', 'carpet'],
              ['Carrelage', 'tile'],
              ['Parquet', 'wood_floor'],
              ['Vinyle / PVC', 'vinyl'],
              ['Béton', 'concrete'],
              ['Résine', 'resin'],
              ['Autre', 'other']
            ],
            { include_blank: 'Sélectionner...' },
            { style: "width: 100%;" } %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Type de Revêtement Mural
          </label>
          <%= f.select :wall_covering,
            [
              ['Peinture', 'paint'],
              ['Papier peint', 'wallpaper'],
              ['Lambris', 'paneling'],
              ['Carrelage', 'tile'],
              ['Béton brut', 'raw_concrete'],
              ['Plâtre', 'plaster'],
              ['Autre', 'other']
            ],
            { include_blank: 'Sélectionner...' },
            { style: "width: 100%;" } %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Type de Plafond
          </label>
          <%= f.select :ceiling_type,
            [
              ['Plafond suspendu', 'suspended'],
              ['Dalle', 'slab'],
              ['Plâtre', 'plaster'],
              ['Béton apparent', 'exposed_concrete'],
              ['Autre', 'other']
            ],
            { include_blank: 'Sélectionner...' },
            { style: "width: 100%;" } %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Équipements Présents
          </label>
          <%= f.text_field :present_equipment, placeholder: "Ex: Bureaux, chaises, armoires...", style: "width: 100%;" %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Points d'Eau
          </label>
          <%= f.number_field :water_points, placeholder: "Ex: 0", min: 0, style: "width: 100%;" %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Prises Électriques
          </label>
          <%= f.number_field :electrical_outlets, placeholder: "Ex: 4", min: 0, style: "width: 100%;" %>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Éclairage Naturel (%)
          </label>
          <%= f.number_field :natural_lighting, placeholder: "Ex: 60", min: 0, max: 100, style: "width: 100%;" %>
          <p class="typo-body-small" style="color: var(--medium-gray); margin-top: var(--space-xs); font-size: 0.75rem;">
            Pourcentage d'éclairage naturel (0-100%)
          </p>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Ventilation
          </label>
          <%= f.select :ventilation,
            [
              ['Naturelle', 'natural'],
              ['Mécanique', 'mechanical'],
              ['Mixte', 'mixed'],
              ['Aucune', 'none']
            ],
            { include_blank: 'Sélectionner...' },
            { style: "width: 100%;" } %>
        </div>
      </div>
    </div>

    <!-- Accessibility & Comfort Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Accessibilité et Confort
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div style="display: flex; align-items: center;">
          <label class="typo-body-small" style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer;">
            <%= f.check_box :pmr_accessibility, style: "width: 20px; height: 20px; cursor: pointer;" %>
            <span class="typo-bold">Accessibilité PMR</span>
          </label>
        </div>

        <div style="display: flex; align-items: center;">
          <label class="typo-body-small" style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer;">
            <%= f.check_box :has_windows, style: "width: 20px; height: 20px; cursor: pointer;" %>
            <span class="typo-bold">Présence de Fenêtres</span>
          </label>
        </div>

        <div style="display: flex; align-items: center;">
          <label class="typo-body-small" style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer;">
            <%= f.check_box :network_connectivity, style: "width: 20px; height: 20px; cursor: pointer;" %>
            <span class="typo-bold">Connectivité Réseau</span>
          </label>
        </div>

        <div style="display: flex; align-items: center;">
          <label class="typo-body-small" style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer;">
            <%= f.check_box :heating, style: "width: 20px; height: 20px; cursor: pointer;" %>
            <span class="typo-bold">Chauffage</span>
          </label>
        </div>

        <div style="display: flex; align-items: center;">
          <label class="typo-body-small" style="display: flex; align-items: center; gap: var(--space-sm); cursor: pointer;">
            <%= f.check_box :air_conditioning, style: "width: 20px; height: 20px; cursor: pointer;" %>
            <span class="typo-bold">Climatisation</span>
          </label>
        </div>
      </div>
    </div>

    <!-- Classification Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Classification (Optionnel)
      </h4>
      
      <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-lg);">
        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Code OmniClass
          </label>
          <%= f.text_field :omniclass_code, placeholder: "Ex: 13-21 11 00", style: "width: 100%;" %>
          <p class="typo-body-small" style="color: var(--medium-gray); margin-top: var(--space-xs); font-size: 0.75rem;">
            Classification internationale BIM (optionnel)
          </p>
        </div>

        <div>
          <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
            Zone de Regroupement
          </label>
          <%= f.select :grouping_zone,
            [
              ['Zone administrative', 'administrative'],
              ['Zone technique', 'technical'],
              ['Zone commerciale', 'commercial'],
              ['Zone circulation', 'circulation'],
              ['Zone stockage', 'storage']
            ],
            { include_blank: 'Sélectionner...' },
            { style: "width: 100%;" } %>
        </div>
      </div>
    </div>

    <!-- Notes Section -->
    <div style="margin-bottom: var(--space-xl);">
      <h4 class="typo-h4" style="margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 2px solid var(--pink-pale);">
        Notes Complémentaires
      </h4>
      
      <div>
        <label class="typo-body-small typo-bold" style="display: block; margin-bottom: var(--space-sm);">
          Notes
        </label>
        <%= f.text_area :notes, rows: 4, placeholder: "Informations complémentaires sur l'espace...", style: "width: 100%;" %>
      </div>
    </div>

    <!-- Action Buttons -->
    <div style="display: flex; gap: var(--space-md); justify-content: flex-end; padding-top: var(--space-lg); border-top: 1px solid var(--pink-pale);">
      <%= link_to "Annuler", @level ? level_spaces_path(@level) : spaces_path, class: "typo-btn-cancel" %>
      <%= f.submit space.new_record? ? "Créer l'Espace" : "Mettre à Jour", class: "typo-btn-success" %>
    </div>
  </div>
<% end %>
